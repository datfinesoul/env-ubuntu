[init]
	defaultBranch = main
[push]
	default = simple
[pull]
	rebase = false
	ff = only
[rebase]
	;new to me, but seems useful
	autostash = true
[core]
	autocrlf = input
	whitespace = -trailing-space
	ignorecase = true
	excludesfile = /Users/phadviger/.gitignore_global
	editor = vim
	pager = less -FXRS -x2
[diff]
	renames = copies
	renameLimit = 5000
	context = 10
[merge]
	renameLimit = 5000
	conflictStyle = diff3
[alias]
	; Show branches that contain a specific commit
	bc = branch --contains
	; Create and checkout a new branch without tracking remote
	cb = checkout --no-track -b
	; Remove deleted files from the index
	cleanup = "!git ls-files --deleted -z | xargs -0 git rm"
	; Compare commits between current branch and specified branch
	cmp = "!sh -c 'git log --left-right --oneline --no-merges --pretty=format:\"%m %Cred%h%Creset - %s %Cgreen(%an - %cr)%Creset %C(yellow)%d%Creset\" $0...'"
	; Show diff (basic version)
	d = diff
	dd = diff --diff-filter=d
	; Show diff of staged changes
	dc = diff --cached
	ddc = diff --cached --diff-filter=d
	; Show diff with side-by-side view using delta
	ds = "!bash -c 'export DELTA_FEATURES=\"side-by-side unobtrusive-line-numbers decorations\"; git diff'"
	dds = "!bash -c 'export DELTA_FEATURES=\"side-by-side unobtrusive-line-numbers decorations\"; git diff --diff-filter=d'"
	; Show staged diff with side-by-side view using delta
	dsc = "!bash -c 'export DELTA_FEATURES=\"side-by-side unobtrusive-line-numbers decorations\"; git diff --cached'"
	ddsc = "!bash -c 'export DELTA_FEATURES=\"side-by-side unobtrusive-line-numbers decorations\"; git diff --cached --diff-filter=d'"
	; Show diff stats for staged changes
	dnc = diff --cached --stat
	; Show diff stats for unstaged changes
	dn = diff --stat
	; Show merge commits with formatting
	f=log --oneline --merges --pretty=format:'%Cred%h%Creset - %C(white)%s %Cgreen(%cr)%C(blue) [%cn]%C(yellow)%d%Creset' --abbrev-commit
	; Fetch all remotes and tags
	fa = fetch --all --tags
	; Show log with short date format
	lds = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=short
	; Show pretty log graph with colors
	lg = log --graph --date-order --pretty=format:'%Cred%h%Creset - %C(white)%s\n%C(red ul)          %Cgreen(%cr) %C(cyan)[%an,%cn]%Creset %C(yellow)%d%Creset'
	; Show pretty log graph for all branches
	lga = log --graph --date-order --all --pretty=format:'%Cred%h%Creset - %C(white)%s\n%C(red ul)          %Cgreen(%cr) %C(cyan)[%an,%cn]%Creset %C(yellow)%d%Creset'
	; Show log with file names and detailed commit info
	lgn = log --no-merges --name-status --pretty=format:'%C(white)%m %Cred%h %Creset- %C(white)%s\n           %C(yellow)%d%n  %Cgreen%ci - %an,%cn - %Cresetparent: %Cred%p%Creset'
	; Merge without fast-forward and without committing
	m = merge --no-ff --no-commit
	; Pull without fast-forward and without committing
	p = pull --no-ff --no-commit
	; Commit (shorthand)
	cs = commit
	; Show merge log with graph
	mergelog = log --oneline --decorate --graph
	; Show status with untracked files and short format
	s = status -uall -s -b
	; View previous releases by looking at tags
	viewprevrel = "!sh -c 'git mergelog | grep \"tag: \" | head'"
	; Show word-level diff ignoring whitespace
	wiff = diff --ignore-space-at-eol --ignore-space-change --word-diff
	; Show word-level diff of staged changes ignoring whitespace
	wiffc = diff --ignore-space-at-eol --ignore-space-change --word-diff --cached
	; Add subtree from repository, auto-detecting default branch (usage: git sba <repo-uri> <destination-folder>)
	sba = "!f() { default_branch=$(git ls-remote --symref $1 HEAD | head -1 | cut -d'/' -f3 | cut -d$'\t' -f1); git subtree add --prefix $2 $1 ${default_branch:-main} --squash; }; f"
	; Update subtree from repository, auto-detecting default branch (usage: git sbu <repo-uri> <destination-folder>)
	sbu = "!f() { default_branch=$(git ls-remote --symref $1 HEAD | head -1 | cut -d'/' -f3 | cut -d$'\t' -f1); git subtree pull --prefix $2 $1 ${default_branch:-main} --squash; }; f"
	; Show remote branches already merged into master
	merged = branch -r --merged
	; Rebase preserving commit dates
	rebase-preserve = rebase --committer-date-is-author-date
	; Show your own commits with file names
	own = "!git lg --name-only --author=\"$(git config user.name)\""
	; Show contributor statistics
	sl = shortlog --summary --numbered --email --all
	; Show diff excluding specified paths (usage: git de <branch> <path1> <path2>...)
	de = "!sh -c 'branch=\"$1\"; shift; paths=(); for arg do paths+=(\":(exclude)$arg\"); done; git diff \"$branch\" -- . \"${paths[@]}\"' -"
	; Create empty commit to trigger CI checks
	empty = commit -m trigger-checks --allow-empty
	; View previous releases by looking at tags
	viewprevrel = "!sh -c 'git mergelog | grep \"tag: \" | head'"

[color]
	status = auto
	branch = auto

[branch]
	autoSetupMerge = false

[color "status"]
	added = green
	changed = cyan
	untracked = red

[color "diff"]
	meta = blue
	frag = magenta
	old = red
	new = green

[help]
	format = html
[web]
	browser = ff
[filter "lfs"]
	clean = git-lfs clean %f
	smudge = git-lfs smudge %f
	required = true
[include]
	path = ~/.gitconfig.local

[user]
	name = Philip Hadviger
	email = 613305+datfinesoul@users.noreply.github.com
	signingkey = 4A4F755890424725
[fetch]
	prune = true
	fsckobjects = true
[status]
	relativePaths = false
[browser "ff"]
	cmd = "bash -c 'if [ \"$(uname)\" = \"Darwin\" ]; then open -a \"Firefox\" \"$1\"; else firefox \"$1\"; fi' --"
[commit]
	gpgsign = true
	verbose = true
	template = /Users/philip.hadviger/.gitmessage
;[url "https://git@"]
;  insteadOf = git://
[rerere]
	# https://git-scm.com/book/en/v2/Git-Tools-Rerere
	enabled = true

;[includeIf "gitdir:~/code/<work>/"]
;  path = "~/code/<work>/.gitconfig"

[transfer]
	fsckobjects = true
[receive]
	fsckObjects = true
[diff]
	colorMoved = default
	algorithm = histogram
[core]
	pager = delta
[interactive]
	diffFilter = delta --color-only
[delta]
	navigate = true    ; use n and N to move between diff sections
	light = false      ; set to true if you're in a terminal w/ a light background color (e.g. the default macOS terminal)
	;side-by-side = true
	features = unobtrusive-line-numbers decorations
	;whitespace-error-style = 22 reverse
[delta "unobtrusive-line-numbers"]
	line-numbers = true
	;line-numbers-minus-style = "#444444"
	line-numbers-zero-style = "#444444"
	;line-numbers-plus-style = "#444444"
	line-numbers-left-format = "{nm:>4}┊"
	line-numbers-right-format = "{np:>4}│"
	line-numbers-left-style = blue
	line-numbers-right-style = blue
[delta "decorations"]
	;commit-decoration-style = bold yellow box ul
	file-style = white
	file-decoration-style = ul ol brightcyan
	hunk-header-decoration-style = grey box
